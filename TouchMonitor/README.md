# TouchMonitor应用说明

## 📱 应用功能
- 使用悬浮窗监听全局触摸事件
- 通过 `event.getRawX()` 和 `event.getRawY()` 获取真实屏幕坐标
- 输出坐标到logcat，供Python脚本读取

## 🔧 技术原理
- **悬浮窗服务**: 创建透明全屏悬浮窗覆盖所有应用
- **触摸监听**: 拦截触摸事件但不消费，让下层应用正常工作
- **坐标获取**: 直接使用Android API获取绝对屏幕坐标
- **数据传输**: 通过logcat将坐标传递给Python脚本

## 📦 安装步骤

### 方法1：手动编译（推荐）
1. 安装Android Studio和SDK
2. 运行 `bash build.sh` 编译APK
3. `adb install TouchMonitor.apk`

### 方法2：直接安装预编译APK
（如果提供预编译版本）

## 🚀 使用流程

### 在手机上：
1. 打开"触摸坐标监控"应用
2. 点击"开启悬浮窗权限"并授权
3. 点击"启动坐标监控"

### 在Python脚本中：
1. 运行 `python move_debugger.py`
2. 选择功能3 → 触摸参数记录器
3. 选择功能2 → 真实屏幕坐标监控

## 📊 输出格式
```
手势      屏幕坐标        动作      说明
#1      ( 610,1350)     DOWN     🟢 开始触摸
#1      ( 612,1355)     MOVE     📍 移动中
#1      ( 615,1360)     UP       🔴 结束触摸
```

## 🎯 优势
- ✅ **真实坐标**: 直接来自Android系统，无需转换
- ✅ **高精度**: 使用getRawX/Y，精度最高
- ✅ **全局监听**: 可监听任何应用的触摸事件
- ✅ **不影响操作**: 透明悬浮窗不影响正常使用
- ✅ **即用坐标**: 输出的坐标可直接用于input tap

## ⚠️ 注意事项
- 需要悬浮窗权限（SYSTEM_ALERT_WINDOW）
- Android 6.0+需要手动授权悬浮窗权限
- 部分厂商系统可能需要额外设置